{"version":3,"sources":["01_main.js"],"names":["showBtn","document","querySelector","onclick","showMore","itemsToShow","totalItems","drawSlider","sliderDefaults","items","slideBy","controls","speed","autoplayButtonOutput","arrowKeys","autoplay","mode","tns","container","controlsContainer","navContainer","navAsThumbnails","console","log","drawCatalog","async","response","fetch","ok","img","item","price","category","color","json","html","products","length","liclass","newclass","catalogEl","fullCatalogEl","classList","contains","i","itemname","drawProdHTML","innerHTML","checkDisplay","mixitup","animation","effects","status","li","add","drawMap","map","L","scrollWheelZoom","fullscreenControl","fullscreenControlOptions","position","setView","tileLayer","colorFilter","attribution","filter","addTo","dispMap","plotMap","invalidateSize","control","locate","strings","title","icon","markers","markerClusterGroup","removeOutsideVisibleBounds","disableClusteringAtZoom","stores","popupData","city","address","location","ophours","phone","web","addLayer","marker","lat","lng","bindPopup","drawNavbar","nav","navOffset","offsetTop","trigger","submenu","addEventListener","toggle","window","pageYOffset","remove","scrollNav","scrollTopBtn","scrollBottomBtn","scrollTo","top","behavior","userLogin","animate","swalConfig","customClass","popup","showConfirmButton","showCloseButton","confirmButtonText","showClass","backdrop","hideClass","querySelectorAll","forEach","el","Swal","fire","body","e","target","matches","preventDefault","sendLoginRequest","emailInput","getElementById","passwordInput","validationErr","Promise","resolve","reject","email","value","password","then","data","users","userEmail","userPassword","close","style","display","triggerSecondForm","inputs","submitBtn","setAttribute","input","checked","removeAttribute","drawTabs","tabs","tabButton","contents","id","dataset","btn","content","LazyLoad","customSelect","WOW","init","baguetteBox","run","postsContainer","drawPosts","drawSingle","postID","setID","localStorage","setItem","containerEl","posts","author","date","drawHTML","getItem","setData","lorem","postData","JSON","stringify","DATA","parse","bg","views","parseInt","Math","random","backgroundImage","innerText"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["\"use strict\";\r\n\r\nconst showBtn = document.querySelector('.collection-btn');\r\n\r\nif (showBtn) {\r\n    showBtn.onclick = showMore;\r\n}\r\n\r\nlet itemsToShow = 12,\r\n    totalItems = 0;\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n\r\n    let lazyLoadInstance = new LazyLoad({});\r\n    customSelect('select');\r\n\r\n    userLogin();\r\n    drawNavbar();\r\n\r\n    drawSlider();\r\n    scrollNav();\r\n    new WOW().init();\r\n    baguetteBox.run('.gallery_lookbook', {});\r\n    drawCatalog();\r\n\r\n    const postsContainer = document.querySelector('.blog_posts');\r\n    if (postsContainer != null) {\r\n        drawPosts(postsContainer);\r\n    }\r\n    const singlePostContainer = document.querySelector('.post_main');\r\n    if (singlePostContainer != null) {\r\n        drawSingle();\r\n    }\r\n\r\n    const mapContainer = document.getElementById('map');\r\n    if (mapContainer != null) {\r\n        drawMap();\r\n    }\r\n\r\n    const checkoutContainer = document.querySelector('.checkout');\r\n    if (checkoutContainer != null) {\r\n        triggerSecondForm();\r\n    }\r\n\r\n    const tabsContainer = document.querySelector('.single_tabs');\r\n    if (tabsContainer != null) {\r\n        drawTabs();\r\n    }\r\n\r\n});\r\n\r\nfunction drawSlider() {\r\n    const sliderDefaults = {\r\n        items: 1,\r\n        slideBy: 'page',\r\n        controls: true,\r\n        speed: 1000,\r\n        autoplayButtonOutput: false,\r\n        arrowKeys: true,\r\n        autoplay: true,\r\n        mode: 'gallery'\r\n    };\r\n\r\n    const promoSliderEl = document.querySelector('.promo_slider');\r\n    if (promoSliderEl) {\r\n        const promoSlider = tns({\r\n            container: '.promo_slider',\r\n            controlsContainer: '.promo_slider-controls',\r\n            ...sliderDefaults\r\n        });\r\n    }\r\n\r\n    const locationSliderEl = document.querySelector('.location_slider');\r\n    if (locationSliderEl) {\r\n        const locationSlider = tns({\r\n            container: '.location_slider',\r\n            controlsContainer: '.location_slider-controls',\r\n            ...sliderDefaults\r\n        });\r\n    }\r\n\r\n    const singleSliderEl = document.querySelector('.single_slider');\r\n    if (singleSliderEl) {\r\n        const singleSliderEl = tns({\r\n            container: '.single_slider',\r\n            navContainer: '.single_slider-thumbnails',\r\n            navAsThumbnails: true,\r\n            controlsContainer: '.single_slider-controls',\r\n            ...sliderDefaults,\r\n            autoplay: false\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction showMore() {\r\n    let diff = totalItems - itemsToShow;\r\n    itemsToShow += diff;\r\n    console.log(itemsToShow, totalItems);\r\n    drawCatalog();\r\n}\r\n\r\nasync function drawCatalog() {\r\n    let response = await fetch('data/data.json');\r\n    if (response.ok) {\r\n        let json = await response.json();\r\n        let img, html = '',\r\n            item, price, category, color;\r\n        totalItems = json.products.length;\r\n        let liclass = 'products_list-item',\r\n            newclass = `${liclass} wow fadeInUp`;\r\n        const catalogEl = document.querySelector('.products_list'),\r\n            fullCatalogEl = document.querySelector('.catalog_list');\r\n        if (catalogEl != null) {\r\n            if (catalogEl.classList.contains('catalog_list')) {\r\n                itemsToShow = totalItems;\r\n            }\r\n            for (let i = 0; i < itemsToShow; i++) {\r\n                img = json.products[i].img;\r\n                item = json.products[i].itemname;\r\n                price = json.products[i].price;\r\n                category = json.products[i].category;\r\n                color = json.products[i].color;\r\n                if (i > itemsToShow) {\r\n                    liclass = newclass;\r\n                }\r\n                html += drawProdHTML(liclass, img, item, price, category, color);\r\n            }\r\n            catalogEl.innerHTML = html + '<li aria-hidden=\"true\" class=\"hidden\"></li>';\r\n            if (catalogEl.classList.contains('collection_list')) {\r\n                checkDisplay();\r\n            }\r\n            if (fullCatalogEl) {\r\n                const mixer = mixitup('.catalog_list', {\r\n                    animation: {\r\n                        effects: ''\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        console.log(\"HTTP Error: \" + response.status);\r\n    }\r\n}\r\n\r\nfunction drawProdHTML(li, img, item, price, category, color) {\r\n    let html = `\r\n        <li class=\"${li} mix ${category} ${color} col-12 col-sm-6 col-md-4 col-lg-3\" data-price=\"${price}\">\r\n            <picture>\r\n                <source type=\"image/webp\" srcset=\"img/products/${img}.webp\">\r\n                <source type=\"image/jpeg\" srcset=\"img/products/${img}.jpg\">\r\n                <img class=\"${li}_img\" src=\"img/products/${img}.jpg\" alt=\"${item}\">\r\n            </picture>\r\n            <div class=\"${li}_info\">\r\n                <span class=\"name\">${item}</span>\r\n                <span class=\"price\">$${price}</span>\r\n            </div>\r\n            <div class=\"${li}_action d-flex\">\r\n                <a href=\"javasript:void(0)\" class=\"btn-add action-btn\" data-price=\"${price}\">Buy</a>\r\n                <a href=\"product.html\" class=\"btn-info action-btn\" data-id=\"${item}\">Details</a>\r\n            </div>\r\n        </li>\r\n    `;\r\n    return html;\r\n}\r\n\r\nfunction checkDisplay() {\r\n    if (itemsToShow == totalItems) {\r\n        showBtn.classList.add('hidden');\r\n    }\r\n}\r\n\r\n\r\nasync function drawMap() {\r\n    let map = L.map('map', {\r\n        scrollWheelZoom: false,\r\n        fullscreenControl: true,\r\n        fullscreenControlOptions: {\r\n            position: 'topleft'\r\n        }\r\n    }).setView([57.729535, -106.420245], 2);\r\n\r\n    let myFilter = [\r\n        'grayscale:90%',\r\n        'contrast:70%',\r\n        'brightness:110%'\r\n    ];\r\n\r\n    L.tileLayer = L.tileLayer.colorFilter('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '',\r\n        filter: myFilter\r\n    }).addTo(map);\r\n\r\n    map.dispMap = function () {\r\n        map.plotMap();\r\n        map.map.invalidateSize();\r\n    };\r\n\r\n    L.control.locate({\r\n        strings: {\r\n            title: \"Your location\"\r\n        },\r\n        icon: \"icon-map-marker\"\r\n    }).addTo(map);\r\n\r\n    let markers = L.markerClusterGroup({\r\n        removeOutsideVisibleBounds: true,\r\n        disableClusteringAtZoom: 16\r\n    });\r\n\r\n\r\n    let response = await fetch('data/data.json');\r\n    if (response.ok) {\r\n        let json = await response.json();\r\n        for (let i = 0; i < json.stores.length; i++) {\r\n            let popupData =\r\n                `<div class=\"popup_general\">\r\n                            <p class=\"popup_general-city\">${json.stores[i].city}</p>\r\n                            <p class=\"popup_general-address\">${json.stores[i].address}</p>\r\n                            <p class=\"popup_general-location\">${json.stores[i].location}</p>\r\n                        </div>\r\n                        <div class=\"popup_additional\">\r\n                            <p class=\"popup_additional-hours\">${json.stores[i].ophours}</p>\r\n                    `;\r\n            if (json.stores[i].phone != null) {\r\n                popupData += `<a href=\"tel:${json.stores[i].phone}\" class=\"popup_additional-phone\"><i class=\"icon-phone\"></i>${json.stores[i].phone}</a>`\r\n            }\r\n            if (json.stores[i].web != null) {\r\n                popupData += `<a href=\"${json.stores[i].web}\" target=\"_blank\" class=\"popup_additional-site\"><i class=\"icon-web\"></i>Website</a>`\r\n            }\r\n            markers.addLayer(L.marker([json.stores[i].lat, json.stores[i].lng])\r\n                .bindPopup(popupData)\r\n            )\r\n        }\r\n        map.addLayer(markers);\r\n    } else {\r\n        console.log(\"HTTP Error: \" + response.status);\r\n    }\r\n}\r\n\r\n\r\nfunction drawNavbar() {\r\n    const nav = document.querySelector('.navbar'),\r\n        navOffset = nav.offsetTop,\r\n        trigger = document.querySelector('.hamburger--minus'),\r\n        submenu = document.querySelector('.navbar_submenu');\r\n\r\n    trigger.addEventListener('click', () => {\r\n        trigger.classList.toggle('is-active');\r\n        submenu.classList.toggle('is-active-nav');\r\n        nav.classList.add('sticky');\r\n    })\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.pageYOffset > navOffset) {\r\n            nav.classList.add('sticky');\r\n        } else if (!submenu.classList.contains('is-active-nav')) {\r\n            nav.classList.remove('sticky');\r\n        }\r\n    })\r\n}\r\n\r\nfunction scrollNav() {\r\n    const scrollTopBtn = document.querySelector('.scroll_top'),\r\n        scrollBottomBtn = document.querySelector('.scroll_bottom');\r\n\r\n    scrollTopBtn.addEventListener('click', () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: \"smooth\"\r\n        });\r\n    });\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.pageYOffset > 0) {\r\n            scrollBottomBtn.classList.add('active');\r\n        }\r\n        if (window.pageYOffset > 300) {\r\n            scrollTopBtn.classList.add('active');\r\n        } else {\r\n            scrollTopBtn.classList.remove('active');\r\n        }\r\n    });\r\n}\r\n\r\nfunction userLogin() {\r\n    let animate = 'animated fade';\r\n    const swalConfig = {\r\n        title: 'Log in',\r\n        customClass: {\r\n            title: 'popup_login-title',\r\n            popup: 'popup_login'\r\n        },\r\n        showConfirmButton: false,\r\n        showCloseButton: false,\r\n        confirmButtonText: 'Submit',\r\n        showClass: {\r\n            popup: animate + 'In',\r\n            backdrop: animate + 'In swal2-backdrop-show'\r\n        },\r\n        hideClass: {\r\n            popup: animate + 'Out',\r\n            backdrop: animate + 'Out swal2-backdrop-show'\r\n        },\r\n        html: `\r\n                <form method=\"POST\" id=\"popup_login-form\" class=\"popup_login-form\">\r\n                    <input id=\"popup_login-form_email\" type=\"email\" class=\"popup_login-form_email\" placeholder=\"Email\">\r\n                    <input id=\"popup_login-form_password\" type=\"password\" class=\"popup_login-form_password\" placeholder=\"Password\">\r\n                    <p class=\"popup_login-form_error\">Your email/password is incorrect. Check your data and try again.</p>\r\n                    <button class=\"popup_login-form_submit\">Submit</button>\r\n                </form>\r\n                <a class=\"password_reminder\" href=\"javascript:void(0)\">Forgot your password?</a>\r\n                `};\r\n\r\n\r\n    const triggerLoginModal = document.querySelectorAll('.triggerLoginModal');\r\n    triggerLoginModal.forEach(el => {\r\n        el.addEventListener('click', () => {\r\n            Swal.fire(swalConfig);\r\n        });\r\n    });\r\n\r\n    document.body.addEventListener('click', e => {\r\n        if (e.target.matches('.popup_login-form_submit')) {\r\n            e.preventDefault();\r\n            sendLoginRequest();\r\n        }\r\n    });\r\n}\r\n\r\nfunction sendLoginRequest() {\r\n    const emailInput = document.getElementById('popup_login-form_email'),\r\n        passwordInput = document.getElementById('popup_login-form_password');\r\n    \r\n    const validationErr = document.querySelector('.popup_login-form_error');\r\n    \r\n    let request = new Promise((resolve, reject) => {\r\n        resolve({\r\n            email: emailInput.value,\r\n            password: passwordInput.value\r\n        });\r\n    }).then(async function (data) {\r\n        let response = await fetch('data/data.json');\r\n        if (response.ok) {\r\n            let json = await response.json();\r\n            for (let i = 0; i < json.users.length; i++) {\r\n                let userEmail = json.users[i].email;\r\n                let userPassword = json.users[i].password;\r\n\r\n                if (userEmail === data.email && userPassword === data.password) {\r\n                    Swal.close();\r\n                    break;\r\n                } else {\r\n                    validationErr.style.display = 'block';\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction triggerSecondForm() {\r\n    const trigger = document.getElementById('isDifferent'),\r\n        inputs = document.querySelectorAll('.checkout_form-fieldset--optional input'),\r\n        submitBtn = document.querySelector('.btn-full-submit');\r\n\r\n    submitBtn.setAttribute('disabled', 'disabled');\r\n\r\n    inputs.forEach(input => {\r\n        input.setAttribute('disabled', 'disabled');\r\n    });\r\n\r\n    trigger.addEventListener('change', () => {\r\n        if (trigger.checked) {\r\n            inputs.forEach(input => {\r\n                input.removeAttribute('disabled');\r\n            });\r\n            submitBtn.removeAttribute('disabled');\r\n\r\n        } else {\r\n            inputs.forEach(input => {\r\n                input.setAttribute('disabled', 'disabled');\r\n            });\r\n            submitBtn.setAttribute('disabled', 'disabled');\r\n        }\r\n    })\r\n}\r\n\r\nfunction drawTabs() {\r\n    const tabs = document.querySelector(\".single_tabs-wrapper\");\r\n    const tabButton = document.querySelectorAll(\".tab-button\");\r\n    const contents = document.querySelectorAll(\".content\");\r\n\r\n    tabs.onclick = e => {\r\n        const id = e.target.dataset.id;\r\n        if (id) {\r\n            tabButton.forEach(btn => {\r\n                btn.classList.remove(\"active\");\r\n            });\r\n            e.target.classList.add(\"active\");\r\n\r\n            contents.forEach(content => {\r\n                content.classList.remove(\"active\");\r\n            });\r\n            const element = document.getElementById(id);\r\n            element.classList.add(\"active\");\r\n        }\r\n    }\r\n}\r\n\r\n// BLOG POSTS--------------------------\r\n\r\nlet postID = 0;\r\n\r\nfunction setID(id) {\r\n    postID = id;\r\n    localStorage.setItem('id', postID);\r\n    drawPosts();\r\n}\r\n\r\n\r\nasync function drawPosts(containerEl) {\r\n    let response = await fetch('data/data.json');\r\n    if (response.ok) {\r\n        let json = await response.json();\r\n        let html = '';\r\n        for (let i = 0; i < json.posts.length; i++) {\r\n            let img = json.posts[i].img,\r\n                title = json.posts[i].title,\r\n                id = json.posts[i].id,\r\n                category = json.posts[i].category,\r\n                author = json.posts[i].author,\r\n                date = json.posts[i].date;\r\n            html += drawHTML(img, title, true, id, category);\r\n            if (id == localStorage.getItem('id')) {\r\n                setData(id, img, title, author, date);\r\n            }\r\n        }\r\n\r\n        containerEl.innerHTML = html;\r\n        const mixer = mixitup(containerEl, {\r\n            animation: {\r\n                effects: ''\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        console.log(\"HTTP Error: \" + response.status);\r\n    }\r\n}\r\n\r\nfunction drawHTML(img, title, lorem, id, category) {\r\n    lorem = `Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam aliquid provident\r\n    quas optio dolor quaerat.`;\r\n    let html = `\r\n    <li class=\"wow fadeInUp blog_posts-post mix ${category} col-12 col-sm-6 col-lg-4 col-xl-3\">\r\n        <div class=\"blog_posts-post_img\">\r\n            <picture>\r\n                <source type=\"image/webp\" srcset=\"img/blog/${img}.webp\">\r\n                <source type=\"image/jpeg\" srcset=\"img/blog/${img}.jpg\">\r\n                <img src=\"img/blog/${img}.jpg\" alt=\"post\">\r\n            </picture>\r\n        </div>\r\n        <div class=\"blog_posts-post_text\">\r\n            <h3 class=\"title\">${title}</h3>\r\n            <p class=\"preview\">${lorem}</p>\r\n            <a href=\"post.html\" class=\"read\" target=\"_blank\" onclick=\"setID(${id})\">Read more</a>\r\n        </div>\r\n    </li>\r\n`;\r\n    return html;\r\n}\r\n\r\n\r\nfunction setData(id, img, title, author, date) {\r\n    if (id = localStorage.getItem('id')) {\r\n        let postData = {\r\n            img: img,\r\n            title: title,\r\n            author: author,\r\n            date: date\r\n        };\r\n        localStorage.setItem('data', JSON.stringify(postData));\r\n    }\r\n}\r\n\r\nfunction drawSingle() {\r\n    let DATA = JSON.parse(localStorage.getItem('data'));\r\n    let bg = `url(img/blog/${DATA.img}-lg.jpg)`, title = DATA.title, author = DATA.author, date = DATA.date;\r\n    let views = parseInt(Math.random() * 10000);\r\n\r\n    document.querySelector('.post_header').style.backgroundImage = bg;\r\n    document.querySelector('.post_info-title').innerText = title;\r\n    document.getElementById('views').innerText = views;\r\n    document.getElementById('author').innerText = author;\r\n    document.getElementById('date').innerText = date;\r\n\r\n}\r\n"]}