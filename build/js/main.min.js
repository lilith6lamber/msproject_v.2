"use strict";const showBtn=document.querySelector(".collection-btn");showBtn&&(showBtn.onclick=showMore);let itemsToShow=12,totalItems=0;function drawSlider(){const t={items:1,slideBy:"page",controls:!0,speed:1e3,autoplayButtonOutput:!1,arrowKeys:!0,autoplay:!0,mode:"gallery"};if(document.querySelector(".promo_slider")){tns({container:".promo_slider",controlsContainer:".promo_slider-controls",...t})}if(document.querySelector(".location_slider")){tns({container:".location_slider",controlsContainer:".location_slider-controls",...t})}if(document.querySelector(".single_slider")){tns({container:".single_slider",navContainer:".single_slider-thumbnails",navAsThumbnails:!0,controlsContainer:".single_slider-controls",...t})}}function showMore(){itemsToShow+=totalItems-itemsToShow,console.log(itemsToShow,totalItems),drawCatalog()}async function drawCatalog(){let t=await fetch("data/data.json");if(t.ok){let e,o,s,a,i,n=await t.json(),l="";totalItems=n.products.length;let r="products_list-item",c=r+" wow fadeInUp";const d=document.querySelector(".products_list"),p=document.querySelector(".catalog_list");if(null!=d){d.classList.contains("catalog_list")&&(itemsToShow=totalItems);for(let t=0;t<itemsToShow;t++)e=n.products[t].img,o=n.products[t].itemname,s=n.products[t].price,a=n.products[t].category,i=n.products[t].color,t>itemsToShow&&(r=c),l+=drawProdHTML(r,e,o,s,a,i);if(d.innerHTML=l+'<li aria-hidden="true" class="hidden"></li>',d.classList.contains("collection_list")&&checkDisplay(),p){mixitup(".catalog_list",{animation:{effects:""}})}}}else console.log("HTTP Error: "+t.status)}function drawProdHTML(t,e,o,s,a,i){return`\n        <li class="${t} mix ${a} ${i} col-12 col-sm-6 col-md-4 col-lg-3" data-price="${s}">\n            <picture>\n                <source type="image/webp" srcset="img/products/${e}.webp">\n                <source type="image/jpeg" srcset="img/products/${e}.jpg">\n                <img class="${t}_img" src="img/products/${e}.jpg" alt="${o}">\n            </picture>\n            <div class="${t}_info">\n                <span class="name">${o}</span>\n                <span class="price">$${s}</span>\n            </div>\n            <div class="${t}_action d-flex">\n                <a href="javasript:void(0)" class="btn-add action-btn" data-price="${s}">Buy</a>\n                <a href="product.html" class="btn-info action-btn" data-id="${o}">Details</a>\n            </div>\n        </li>\n    `}function checkDisplay(){itemsToShow==totalItems&&showBtn.classList.add("hidden")}async function drawMap(){let t=L.map("map",{scrollWheelZoom:!1,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}}).setView([57.729535,-106.420245],2);L.tileLayer=L.tileLayer.colorFilter("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"",filter:["grayscale:90%","contrast:70%","brightness:110%"]}).addTo(t),t.dispMap=function(){t.plotMap(),t.map.invalidateSize()},L.control.locate({strings:{title:"Your location"},icon:"icon-map-marker"}).addTo(t);let e=L.markerClusterGroup({removeOutsideVisibleBounds:!0,disableClusteringAtZoom:16}),o=await fetch("data/data.json");if(o.ok){let s=await o.json();for(let t=0;t<s.stores.length;t++){let o=`<div class="popup_general">\n                            <p class="popup_general-city">${s.stores[t].city}</p>\n                            <p class="popup_general-address">${s.stores[t].address}</p>\n                            <p class="popup_general-location">${s.stores[t].location}</p>\n                        </div>\n                        <div class="popup_additional">\n                            <p class="popup_additional-hours">${s.stores[t].ophours}</p>\n                    `;null!=s.stores[t].phone&&(o+=`<a href="tel:${s.stores[t].phone}" class="popup_additional-phone"><i class="icon-phone"></i>${s.stores[t].phone}</a>`),null!=s.stores[t].web&&(o+=`<a href="${s.stores[t].web}" target="_blank" class="popup_additional-site"><i class="icon-web"></i>Website</a>`),e.addLayer(L.marker([s.stores[t].lat,s.stores[t].lng]).bindPopup(o))}t.addLayer(e)}else console.log("HTTP Error: "+o.status)}function drawNavbar(){const t=document.querySelector(".navbar"),e=t.offsetTop,o=document.querySelector(".hamburger--minus"),s=document.querySelector(".navbar_submenu");o.addEventListener("click",()=>{o.classList.toggle("is-active"),s.classList.toggle("is-active-nav"),t.classList.add("sticky")}),window.addEventListener("scroll",()=>{window.pageYOffset>e?t.classList.add("sticky"):s.classList.contains("is-active-nav")||t.classList.remove("sticky")})}function scrollNav(){const t=document.querySelector(".scroll_top"),e=document.querySelector(".scroll_bottom");t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.pageYOffset>0&&e.classList.add("active"),window.pageYOffset>300?t.classList.add("active"):t.classList.remove("active")})}function userLogin(){document.getElementById("loginlink").addEventListener("click",()=>{Swal.fire({title:"Log in",customClass:{title:"popup_login-title"},showConfirmButton:!1,showClass:{popup:"wowfadeIn",backdrop:"wowfadeIn swal2-backdrop-show"},hideClass:{popup:"wowfadeOut",backdrop:"wowfadeOut swal2-backdrop-show"},html:'\n                <form method="POST" id="popup_login-form" class="popup_login-form">\n                    <input id="popup_login-form_email" type="email" class="popup_login-form_email" placeholder="Email">\n                    <input id="popup_login-form_password" type="password" class="popup_login-form_password" placeholder="Password">\n                    <button id="popup_login-form_submit" type="submit" class="popup_login-form_submit">Submit</button>\n                </form>\n            '})})}function triggerSecondForm(){const t=document.getElementById("isDifferent"),e=document.querySelectorAll(".checkout_form-fieldset--optional input"),o=document.querySelector(".btn-full-submit");o.setAttribute("disabled","disabled"),e.forEach(t=>{t.setAttribute("disabled","disabled")}),t.addEventListener("change",()=>{t.checked?(e.forEach(t=>{t.removeAttribute("disabled")}),o.removeAttribute("disabled")):(e.forEach(t=>{t.setAttribute("disabled","disabled")}),o.setAttribute("disabled","disabled"))})}function drawTabs(){const t=document.querySelector(".single_tabs-wrapper"),e=document.querySelectorAll(".tab-button"),o=document.querySelectorAll(".content");t.onclick=t=>{const s=t.target.dataset.id;if(s){e.forEach(t=>{t.classList.remove("active")}),t.target.classList.add("active"),o.forEach(t=>{t.classList.remove("active")});document.getElementById(s).classList.add("active")}}}document.addEventListener("DOMContentLoaded",()=>{new LazyLoad({});customSelect("select"),userLogin(),drawNavbar(),drawSlider(),scrollNav(),(new WOW).init(),baguetteBox.run(".gallery_lookbook",{}),drawCatalog();const t=document.querySelector(".blog_posts");null!=t&&drawPosts(t);null!=document.querySelector(".post_main")&&drawSingle();null!=document.getElementById("map")&&drawMap();null!=document.querySelector(".checkout")&&triggerSecondForm();null!=document.querySelector(".single_tabs")&&drawTabs()});let postID=0;function setID(t){postID=t,localStorage.setItem("id",postID),drawPosts()}async function drawPosts(t){let e=await fetch("data/data.json");if(e.ok){let o=await e.json(),s="";for(let t=0;t<o.posts.length;t++){let e=o.posts[t].img,a=o.posts[t].title,i=o.posts[t].id,n=o.posts[t].category,l=o.posts[t].author,r=o.posts[t].date;s+=drawHTML(e,a,!0,i,n),i==localStorage.getItem("id")&&setData(i,e,a,l,r)}t.innerHTML=s;mixitup(t,{animation:{effects:""}})}else console.log("HTTP Error: "+e.status)}function drawHTML(t,e,o,s,a){return"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam aliquid provident\n    quas optio dolor quaerat.",`\n    <li class="wow fadeInUp blog_posts-post mix ${a} col-12 col-sm-6 col-lg-4 col-xl-3">\n        <div class="blog_posts-post_img">\n            <picture>\n                <source type="image/webp" srcset="img/blog/${t}.webp">\n                <source type="image/jpeg" srcset="img/blog/${t}.jpg">\n                <img src="img/blog/${t}.jpg" alt="post">\n            </picture>\n        </div>\n        <div class="blog_posts-post_text">\n            <h3 class="title">${e}</h3>\n            <p class="preview">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam aliquid provident\n    quas optio dolor quaerat.</p>\n            <a href="post.html" class="read" target="_blank" onclick="setID(${s})">Read more</a>\n        </div>\n    </li>\n`}function setData(t,e,o,s,a){if(localStorage.getItem("id")){let t={img:e,title:o,author:s,date:a};localStorage.setItem("data",JSON.stringify(t))}}function drawSingle(){let t=JSON.parse(localStorage.getItem("data")),e=`url(img/blog/${t.img}-lg.jpg)`,o=t.title,s=t.author,a=t.date,i=parseInt(1e4*Math.random());document.querySelector(".post_header").style.backgroundImage=e,document.querySelector(".post_info-title").innerText=o,document.getElementById("views").innerText=i,document.getElementById("author").innerText=s,document.getElementById("date").innerText=a}
//# sourceMappingURL=../sourcemaps/main.min.js.map
